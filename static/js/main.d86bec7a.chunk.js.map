{"version":3,"sources":["components/Row/styles.module.scss","components/MainPage/styles.module.scss","components/Tile/index.js","components/Row/index.js","utils/api.js","components/MainPage/index.js","index.js","components/Tile/styles.module.scss"],"names":["module","exports","Tile","tile","index","makeMove","gameState","className","styles","onClick","oTile","xTile","emptyTile","Row","nextFigure","apiClient","ky","create","prefixUrl","apiFetchGameState","get","json","apiMakeMove","post","searchParams","apiResetGame","MainPage","state","won","then","game","setState","refreshGameState","resetGame","this","setInterval","mainContainer","wonContainer","smallerWinner","smallerTextInfo","winner","textInfo","resetButton","gameContainer","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d86bec7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"styles_Row__t5JX7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"styles_mainContainer__nD5cm\",\"gameContainer\":\"styles_gameContainer__1Hn5G\",\"wonContainer\":\"styles_wonContainer__apxSn\",\"winner\":\"styles_winner__duE4q\",\"smallerWinner\":\"styles_smallerWinner__1PxzN\",\"textInfo\":\"styles_textInfo__3UDr0\",\"smallerTextInfo\":\"styles_smallerTextInfo__1gO6l\",\"resetButton\":\"styles_resetButton__1-_G5\"};","import React, {useState} from 'react';\n\nimport styles from './styles.module.scss';\n\nconst classNameForTile = (tile) => {\n  if (tile === 'circle') return styles.oTile;\n  if (tile === 'x') return styles.xTile;\n  return styles.emptyTile;\n}\n\nconst Tile = ({index, makeMove, gameState}) => (\n  <div className={styles.Tile}>\n    <div\n      onClick={() => makeMove(index - 1)}\n      className={classNameForTile(gameState[index - 1])}\n    />\n  </div>\n);\n\nexport default Tile;\n","import React from 'react';\n\nimport styles from './styles.module.scss';\nimport Tile from 'components/Tile';\n\n\nconst Row = ({index, nextFigure, makeMove, gameState}) => {\n  return (\n    <div className={styles.Row}>\n      <Tile index={index * 3 + 1} nextFigure={nextFigure} makeMove={makeMove} gameState={gameState} />\n      <Tile index={index * 3 + 2} nextFigure={nextFigure} makeMove={makeMove} gameState={gameState} />\n      <Tile index={index * 3 + 3} nextFigure={nextFigure} makeMove={makeMove} gameState={gameState} />\n    </div>\n  );\n}\n\nexport default Row;\n","import ky from 'ky';\n\nconst apiClient = ky.create({\n  prefixUrl: 'http://superiod.online:3001',\n});\n\nexport const apiFetchGameState = () => (\n  apiClient.get('game').json()\n);\n\nexport const apiMakeMove = (index) => (\n  apiClient.post('move', { searchParams: { index: index } }).json()\n);\n\nexport const apiResetGame = () => (\n  apiClient.post('reset').json()\n);\n","import React, { Component } from 'react';\n\nimport styles from './styles.module.scss';\nimport Row from 'components/Row';\nimport { apiFetchGameState, apiMakeMove, apiResetGame } from 'utils/api.js';\n\n\nclass MainPage extends Component {\n  state = {\n    nextFigure: 'circle',\n    gameState: [],\n    won: 'none',\n  }\n\n  componentDidMount() {\n    this.refreshGameState();\n    setInterval(this.refreshGameState, 1000);\n  }\n\n  makeMove = (index) => {\n    if (this.state.won === 'none') {\n      apiMakeMove(index)\n      .then(game => this.setState(game));\n    }\n  }\n\n  refreshGameState = () => {\n    apiFetchGameState()\n      .then(game => this.setState(game));\n  }\n\n  resetGame = () => {\n    apiResetGame()\n      .then(game => this.setState(game));\n  }\n\n  render() {\n    return (\n      <div className={styles.mainContainer}>\n        <div className={styles.wonContainer}>\n          <div className={styles.smallerWinner}>\n            <div className={styles.smallerTextInfo}>\n             Next to move: {this.state.nextFigure}\n            </div>\n          </div>\n          {this.state.won === 'circle' || this.state.won === 'x' || this.state.won === 'draw' ? (\n            <div className={styles.winner}>\n              <div className={styles.textInfo}> Winner: {this.state.won} </div>\n              <button onClick={() => this.resetGame()} className={styles.resetButton}> Reset </button>\n            </div>\n          ) : (\n            <div> </div>\n          )}\n        </div>\n        <div className={styles.gameContainer}>\n          <Row index={0} nextFigure={this.state.nextFigure} makeMove={this.makeMove} gameState={this.state.gameState} />\n          <Row index={1} nextFigure={this.state.nextFigure} makeMove={this.makeMove} gameState={this.state.gameState} />\n          <Row index={2} nextFigure={this.state.nextFigure} makeMove={this.makeMove} gameState={this.state.gameState} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MainPage;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport MainPage from 'components/MainPage';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MainPage />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tile\":\"styles_Tile__3KiCI\",\"emptyTile\":\"styles_emptyTile__3eTHU\",\"xTile\":\"styles_xTile__2To1V\",\"oTile\":\"styles_oTile__2776n\"};"],"sourceRoot":""}